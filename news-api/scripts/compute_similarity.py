from langchain_community.utils.math import cosine_similarity
from news_api.services.news_embeddings_service import NewsEmbeddingsService

if __name__ == "__main__":
    embeddings_service = NewsEmbeddingsService()

    corpus = "cybersecurity"
    corpus_text_chunks = embeddings_service.split_text(corpus)

    news_content = "In today's digital age, cybersecurity has become a critical concern for individuals, businesses, and governments worldwide. The rapid growth of the internet and the increasing reliance on technology have created a vast array of opportunities for cybercriminals to exploit vulnerabilities and launch devastating attacks. As the threat landscape continues to evolve, it is essential to stay informed about the latest cybersecurity threats, challenges, and solutions.\r\n\r\nThe Rising Tide of Cyber Threats\r\n\r\nCyber threats are becoming more sophisticated, targeted, and destructive. According to a recent report, the global cost of cybercrime is projected to reach $6 trillion by 2021, up from $3 trillion in 2015. The most common types of cyber threats include:\r\n\r\n1. Phishing attacks: These involve tricking individuals into revealing sensitive information such as passwords, credit card numbers, or personal data.\r\n2. Ransomware attacks: These involve encrypting a victim's files and demanding payment in exchange for the decryption key.\r\n3. Malware attacks: These involve using malicious software to disrupt or gain unauthorized access to computer systems.\r\n4. Denial of Service (DoS) attacks: These involve overwhelming a website or network with traffic in order to make it unavailable to users.\r\n\r\nThe Challenges of Cybersecurity\r\n\r\nDespite the growing awareness of cybersecurity threats, many organizations and individuals continue to face significant challenges in protecting themselves against these threats. Some of the key challenges include:\r\n\r\n1. Lack of awareness and education: Many individuals and organizations are not aware of the latest cybersecurity threats and best practices for protecting themselves.\r\n2. Insufficient resources: Small and medium-sized businesses, in particular, often lack the resources and budget to invest in robust cybersecurity measures.\r\n3. Complexity of cybersecurity: Cybersecurity is a complex and rapidly evolving field, making it difficult for organizations to keep up with the latest threats and technologies.\r\n4. Human factor: Human error is a significant contributor to cybersecurity breaches, with employees often inadvertently or intentionally compromising security.\r\n\r\nSolutions to Cybersecurity Challenges\r\n\r\nWhile the challenges of cybersecurity are significant, there are many solutions and best practices that can help individuals and organizations protect themselves against cyber threats. Some of the key solutions include:\r\n\r\n1. Implementing robust security measures: This includes installing anti-virus software, firewalls, and intrusion detection systems.\r\n2. Conducting regular security audits: Regular security audits can help identify vulnerabilities and weaknesses in an organization's cybersecurity posture.\r\n3. Providing cybersecurity awareness and education: Educating employees and individuals about cybersecurity best practices and the latest threats can help prevent human error and other cybersecurity breaches.\r\n4. Using encryption and secure communication protocols: Encrypting sensitive data and using secure communication protocols such as HTTPS and VPNs can help protect against interception and eavesdropping.\r\n5. Implementing incident response plans: Having an incident response plan in place can help organizations quickly respond to and contain cybersecurity breaches.\r\n\r\nThe Future of Cybersecurity\r\n\r\nAs technology continues to evolve, cybersecurity threats will also continue to evolve and become more sophisticated. Some of the emerging trends and technologies that will shape the future of cybersecurity include:\r\n\r\n1. Artificial intelligence and machine learning: AI and machine learning will play an increasingly important role in cybersecurity, enabling organizations to detect and respond to threats more quickly and effectively.\r\n2. Internet of Things (IoT) security: As the IoT continues to grow, securing connected devices will become a major priority.\r\n3. Cloud security: As more organizations move to the cloud, cloud security will become a major concern.\r\n4. Quantum computing: Quantum computing has the potential to revolutionize cybersecurity, enabling organizations to break certain types of encryption and creating new types of threats.\r\n\r\nConclusion\r\n\r\nCybersecurity is a critical concern for individuals, businesses, and governments worldwide. As the threat landscape continues to evolve, it is essential to stay informed about the latest cybersecurity threats, challenges, and solutions. By implementing robust security measures, conducting regular security audits, providing cybersecurity awareness and education, and using encryption and secure communication protocols, individuals and organizations can protect themselves against cyber threats. As technology continues to evolve, cybersecurity will continue to play a vital role in protecting our digital world."
    news_content_chunks = embeddings_service.split_text(news_content)

    similarity = cosine_similarity(
        embeddings_service.create_embeddings(corpus_text_chunks),
        embeddings_service.create_embeddings(news_content_chunks),
    )[0][0]
    print(similarity)
